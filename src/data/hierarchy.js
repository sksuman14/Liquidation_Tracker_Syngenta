// src/data/hierarchy.js → FINAL & PERFECT (2025)
const hierarchy = {
  "SZ": {
    zm: { name: "Mr. Rokkam Suresh Reddy", mobile: "7997290290", email: "Suresh_Reddy.Rokkam@syngenta.com" },
    areas: {
      "TG-CAP": {
        am: { name: "Gorantla Murali Krishna Raju", mobile: "9866500363", email: "murali_krishna_raju.gorantla@syngenta.com" },
        tsms: [
          {
            name: "Vallapu Sateesh",
            mobile: "9448145583",
            email: "sateesh.vallapu@syngenta.com",
            tas: [
              // Real TAs (no email needed)
              { name: "Madhu kumar.Mantemmagari", mobile: "919502709223" },
              { name: "Panyam Venkata Raghunath Reddy", mobile: "918790331193" },
              { name: "Navudu Naveen kumar", mobile: "918528633452" },
              // Demo TAs from your screenshot
            
              { name: "Rani", mobile: "919915169793" },


            ]
          }
        ]
      },
      "RYL CAP": {
        am: { name: "Desam Abhinay Reddy", mobile: "8332929321", email: "abhinay_reddy.desam@syngenta.com" },
        tsms: [
          {
            name: "Mudiyala Murali Mohan Reddy",
            mobile: "7981061471",
            email: "murali_mohan_reddy.mudiyala@syngenta.com",
            tas: [
              { name: "Mandadi Subba Reddy", mobile: "7036336490" },
              { name: "Reddy Kiran Jagadam", mobile: "7032459344" },
              { name: "Kuthubuddin Shaik", mobile: "9398562795" },
              { name: "Chitra Madhu Sudhan", mobile: "8328404240" },
              { name: "Yaravagari Girisimha Reddy", mobile: "7799656653" },
              { name: "Chapirimatam Gurudeep", mobile: "7674994040" },
              { name: "Yamini", mobile: "918219359413" },

            ]
          }
        ]
      },
      "TN1": {
        am: { name: "Varahunasenahalli Nanjappa Keshavareddy", mobile: "9900019278", email: "Keshavareddy.Varahunasenahalli_Nanjappa@syngenta.com" },
        tsms: [
          {
            name: "Gnanasekaran Vijay Raj",
            mobile: "6380486910",
            email: "Vijay_Raj.Gnanasekaran@syngenta.com",
            tas: [
              { name: "Suresh Kumar Settu", mobile: "8072376133" },
              { name: "Suman Kumar", mobile: "918124660891" },

            ]
          }
        ]
      },
      "TNKL": {
        am: { name: "Arumugam Balasubramani", mobile: "9894821461", email: "Balasubramani.Arumugam@syngenta.com" },
        tsms: [
          {
            name: "Pugalenthi Balaguru",
            mobile: "8778501012",
            email: "Balaguru.Pugalenthi@syngenta.com",
            tas: [
              { name: "Kandasamy Loganathan", mobile: "9894529568" }
            ]
          }
        ]
      }
    }
  },

  "KAZ": {
    zm: { name: "Mr. Nagaraj T", mobile: "8553771827", email: "nagaraja.thippeswamy@syngenta.com" },
    areas: {
      "KA1": {
        am: { name: "Mahesha I R", mobile: "8317353340", email: "mahesha.ibasapura_ramachandrappa@syngenta.com" },
        tsms: [
          {
            name: "Bhaskara Babu S",
            mobile: "9620629298",
            email: "bhaskarababu.shivanna@syngenta.com",
            tas: [
              { name: "Nandan K", mobile: "9513243827" },
              { name: "Abhishek B R", mobile: "7899661192" },
              { name: "Manoj H M", mobile: "9380076002" },
              { name: "Shashank G R", mobile: "855356182" },
              { name: "Harsh", mobile: "917017396521" }


            ]
          }
        ]
      },
      "KA2": {
        am: { name: "Murtuza Jahagirdar", mobile: "6360633254", email: "murtuza_qadri.jahagirdar@syngenta.com" },
        tsms: [
          {
            name: "Kishan Bhargav BP",
            mobile: "8792940390",
            email: "kishan_bhargava.bilichodu_parashuramappa@syngenta.com",
            tas: [
              { name: "Mahendra B Hittalamani", mobile: "9632508286" },
              { name: "Venkatesha", mobile: "9986720850" },
              { name: "Revana Naik", mobile: "9148314364" }
            ]
          }
        ]
      }
    }
  },

  "CWZ": {
    zm: { name: "Mr. Sambhaji Vaijnathrao Munde", mobile: "8888890178", email: "Sambhaji_Vaijnathrao.Munde@syngenta.com" },
    areas: {
      "MH 1": {
        am: { name: "Ashish Bankhele", mobile: "9763358586", email: "Ashish_Dinkar.Bankhile@syngenta.com" },
        tsms: [
          {
            name: "Sagar Hengde",
            mobile: "9637435927",
            email: "Sagar_Tanaji.Hengde@syngenta.com",
            tas: [
              { name: "Swapnil Pavhane", mobile: "8551905392" },
              { name: "Swanand Rajput", mobile: "8605943002" },
              { name: "Sagar Bhalerao", mobile: "9604973887" },
              { name: "Pallavi K", mobile: "919334383571" },
               { name: "Sejal Sharma", mobile: "917009622642" },
            ]
          }
        ]
      },
      "MH 2": {
        am: { name: "Mr. Ganesh D. Bhandurge", mobile: "9325376761", email: "Ganesh_Datta.Bhandurge@syngenta.com" },
        tsms: [
          {
            name: "Mr. Sudan Baban Ghadyale",
            mobile: "9561040160",
            email: "Sudan.Ghadyale@syngenta.com",
            tas: [
              { name: "Sachin Sambhaji Chavan", mobile: "7028567706" },
              { name: "Shivam Yashwant Salunkhe", mobile: "7249111076" }
            ]
          }
        ]
      },
      "MH 3": {
        am: { name: "Mr. Nayak Amarsingh Gunvantrao", mobile: "9970277422", email: "Amarsingh_Gunvatrao.Nayak@syngenta.com" },
        tsms: [
          {
            name: "Mr. Sandesh Arun Bedre",
            mobile: "9975269878",
            email: "Sandesh_Arun.Bedre@syngenta.com",
            tas: [
              { name: "Vinkare Swapnil Kailas", mobile: "9923174399" },
              { name: "Hede Heemanshu Deepakrao", mobile: "7447209693" }
            ]
          }
        ]
      },
      "GJ": {
        am: { name: "Lokesh Arekar", mobile: "9925228305", email: "Lokesh_Vijay.Arekar@syngenta.com" },
        tsms: [
          {
            name: "Prashant Gaikwad",
            mobile: "8329137714",
            email: "Prashantrao_Ankush.Gaikwad@syngenta.com",
            tas: [
              { name: "Padmakar Mandile", mobile: "8087560143" },
              { name: "Chandrashekhar Yadav", mobile: "9669014483" },
              { name: "Kashyap Sojitra", mobile: "7043765755" },
              { name: "Ashutosh Mohite", mobile: "8600890630" },
              { name: "Vasu Santoki", mobile: "9714972712" }
            ]
          }
        ]
      },
      "MP": {
        am: { name: "Lokesh Arekar", mobile: "9925228305", email: "Lokesh_Vijay.Arekar@syngenta.com" },
        tsms: [
          {
            name: "Jitendra Patel",
            mobile: "9638244944",
            email: "Jitendra.Patel@syngenta.com",
            tas: [
              { name: "Ashwin Patidar", mobile: "9685017940" },
              { name: "Sawan Patidar", mobile: "9691216927" }
            ]
          }
        ]
      },
      "CG": {
        am: { name: "Omprakash Bhosale", mobile: "9970553392", email: "Omprakash_Sadashiv.Bhosale@syngenta.com" },
        tsms: [
          {
            name: "Nitesh Kumar Jaiswal",
            mobile: "6264767040",
            email: "Nitesh_Kumar.Jaiswal@syngenta.com",
            tas: [
              { name: "Mr. Sushant Kumar Dewangan", mobile: "7067052187" },
              { name: "Mr. Akshay Yadav", mobile: "6260633132" }
            ]
          }
        ]
      }
    }
  }
};

// FINAL HELPER — MATCHES FULL PHONE NUMBER (91XXXXXXXXXX)
export function getSubordinateTAMobiles(userMobile, role) {
  const taMobiles = new Set();

  if (role === "NSM" || role === "CM") {
    Object.values(hierarchy).forEach(zone => {
      Object.values(zone.areas).forEach(area => {
        area.tsms?.forEach(tsm => {
          tsm.tas?.forEach(ta => ta.mobile && taMobiles.add(ta.mobile));
        });
      });
    });
    return Array.from(taMobiles);
  }

  Object.values(hierarchy).forEach(zone => {
    if (role === "ZM" && zone.zm?.mobile === userMobile) {
      Object.values(zone.areas).forEach(area => {
        area.tsms?.forEach(tsm => {
          tsm.tas?.forEach(ta => ta.mobile && taMobiles.add(ta.mobile));
        });
      });
    }

    Object.values(zone.areas).forEach(area => {
      if (role === "AM" && area.am?.mobile === userMobile) {
        area.tsms?.forEach(tsm => {
          tsm.tas?.forEach(ta => ta.mobile && taMobiles.add(ta.mobile));
        });
      }

      area.tsms?.forEach(tsm => {
        if (role === "TSM" && tsm.mobile === userMobile) {
          tsm.tas?.forEach(ta => ta.mobile && taMobiles.add(ta.mobile));
        }
      });
    });
  });

  return Array.from(taMobiles);
}

export default hierarchy;